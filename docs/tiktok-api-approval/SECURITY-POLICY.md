# 보안 정책 문서

> **문서 버전**: 1.0
> **작성일**: 2026-02-10
> **용도**: TikTok Marketing API 승인 신청용

---

## 1. 인증 및 권한 관리

### 1.1 OAuth 2.0 인증
```
인증 방식: OAuth 2.0 Authorization Code Flow
토큰 유형: Access Token + Refresh Token
토큰 저장: 서버 사이드 암호화 저장 (AES-256)
```

### 1.2 토큰 관리
| 항목 | 정책 |
|------|------|
| Access Token 유효기간 | TikTok 기본값 준수 |
| Refresh Token 갱신 | 만료 24시간 전 자동 갱신 |
| 토큰 저장 위치 | 암호화된 데이터베이스 |
| 토큰 접근 권한 | 서버 프로세스만 접근 가능 |

### 1.3 사용자 인증
- 이메일/비밀번호 인증
- 비밀번호: bcrypt 해싱 (cost factor 12)
- 세션 관리: JWT 기반
- 세션 만료: 24시간

---

## 2. 데이터 암호화

### 2.1 전송 중 암호화 (In Transit)
| 구간 | 암호화 방식 |
|------|------------|
| 클라이언트 ↔ 서버 | TLS 1.3 |
| 서버 ↔ TikTok API | TLS 1.3 |
| 서버 ↔ 데이터베이스 | TLS 1.2+ |

### 2.2 저장 중 암호화 (At Rest)
| 데이터 유형 | 암호화 방식 |
|------------|------------|
| API 토큰 | AES-256-GCM |
| 민감 설정 | AES-256-GCM |
| 데이터베이스 | 플랫폼 제공 암호화 |
| 백업 | 암호화된 스냅샷 |

### 2.3 키 관리
- 암호화 키: 환경 변수 또는 시크릿 매니저
- 키 로테이션: 90일 주기
- 키 접근: 최소 권한 원칙

---

## 3. 접근 제어

### 3.1 역할 기반 접근 제어 (RBAC)
| 역할 | 권한 |
|------|------|
| Admin | 모든 계정 관리, 사용자 관리 |
| Manager | 담당 계정 조회/분석, 리포트 생성 |
| Viewer | 담당 계정 조회만 |

### 3.2 데이터 격리
```
┌─────────────────────────────────────┐
│           Application              │
├─────────────────────────────────────┤
│  Client A  │  Client B  │  Client C │  ← 데이터 격리
│   Data     │   Data     │   Data    │
└─────────────────────────────────────┘
```
- 클라이언트별 데이터 완전 분리
- 교차 접근 불가
- 쿼리 레벨 필터링

### 3.3 API Rate Limiting
| 엔드포인트 | 제한 |
|-----------|------|
| 인증 API | 5 req/min/IP |
| 조회 API | 100 req/min/user |
| 분석 API | 20 req/min/user |

---

## 4. 로깅 및 모니터링

### 4.1 감사 로그
| 이벤트 | 기록 항목 |
|--------|----------|
| 로그인/로그아웃 | 사용자, 시간, IP, 결과 |
| 데이터 접근 | 사용자, 리소스, 시간 |
| 설정 변경 | 사용자, 변경 내용, 시간 |
| API 호출 | 엔드포인트, 응답 코드, 시간 |

### 4.2 로그 보관
- 보관 기간: 6개월
- 저장 위치: 별도 로그 저장소
- 접근 권한: 관리자만

### 4.3 이상 탐지
- 비정상 로그인 시도 감지
- 대량 데이터 접근 알림
- API 오남용 탐지

---

## 5. 취약점 관리

### 5.1 보안 업데이트
- 의존성 취약점: 주간 스캔
- 보안 패치: 발견 후 72시간 내 적용
- 크리티컬 취약점: 24시간 내 대응

### 5.2 보안 테스트
| 테스트 유형 | 주기 |
|------------|------|
| 의존성 스캔 | 매 배포 시 |
| SAST (정적 분석) | 매 배포 시 |
| 침투 테스트 | 연 1회 |

---

## 6. 인시던트 대응

### 6.1 대응 절차
1. **탐지**: 모니터링 시스템 또는 사용자 신고
2. **분류**: 심각도 판단 (Critical/High/Medium/Low)
3. **격리**: 영향 범위 제한
4. **조사**: 원인 분석
5. **복구**: 서비스 정상화
6. **보고**: 관련자 통보 및 문서화

### 6.2 통보 의무
- 개인정보 유출 시 72시간 내 관계 기관 신고
- 영향받는 사용자에게 지체 없이 통보

---

## 7. 물리적 보안

### 7.1 클라우드 인프라
- 호스팅: AWS/Vercel (SOC 2 인증)
- 데이터 센터: 물리적 접근 통제
- 지역: 한국 또는 아시아 리전

### 7.2 개발 환경
- 개발/스테이징/프로덕션 환경 분리
- 프로덕션 데이터 개발 환경 사용 금지
- VPN 접근 (관리 콘솔)

---

## 8. 규정 준수

### 8.1 준수 규정
- 개인정보보호법 (한국)
- TikTok Developer Guidelines
- TikTok Marketing API Terms

### 8.2 정기 검토
- 보안 정책 검토: 연 1회
- 접근 권한 검토: 분기 1회
- 규정 준수 감사: 연 1회

---

*본 문서는 TikTok Marketing API 승인 신청을 위해 작성되었습니다.*
